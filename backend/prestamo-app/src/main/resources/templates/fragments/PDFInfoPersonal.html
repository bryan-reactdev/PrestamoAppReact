<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <style>
        body {
            font-family: "Times New Roman", serif;
            font-size: 12pt;
            line-height: 1.5;
            margin: 1cm;
            text-align: justify;
        }
        .header-container {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        .logo {
            width: 170px;
            height: auto;
            margin-right: 15px;
        }
        .company-header {
            font-weight: bold;
            font-size: 14pt;
            text-align: center;
            flex: 1;
        }
        .pdf-title {
            text-align: center;
            font-weight: bold;
            text-decoration: underline;
            font-size: 12pt;
            margin: 15px 0;
        }
        .pdf-section {
            font-weight: bold;
            text-transform: uppercase;
            margin: 15px 0 10px;
            text-align: left;
        }
        .pdf-field {
            margin-bottom: 10px;
            text-align: justify;
            display: flex;
            align-items: center;
        }
        .pdf-field > * {
            margin: 0 0.25rem;
        }
        .underline {
            display: inline-block;
            border-bottom: 1px solid black;
            min-width: 50px;
            width: auto;
            white-space: nowrap;
            text-align: left;
        }
        .photo-container { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 20px; }
        .photo-item { flex: 1 1 100%; text-align: center; margin-bottom: 20px; }
        .photo-item img { max-width: 500px; max-height: 600px; width: auto; height: auto; border: 1px solid #000; }
        .page-break {
            page-break-before: always;
        }
        .spacer {
            margin-top: 25px;
        }
        .two-columns {
            display: flex;
            justify-content: space-between;
        }
        .column {
            width: 48%;
        }
    </style>
</head>
<body>

<!-- Header -->
<div class="header-container">
    <div class="company-header">Documento de Información General del Solicitante</div>
</div>

<div class="pdf-title">USO EXCLUSIVO PARA EL ADMINISTRADOR</div>

<!-- 1. Datos del Solicitante -->
<div class="pdf-section">1. INFORMACION PERSONAL</div>

<div class="pdf-field">
    <strong>Nombre completo:</strong> <span class="underline" th:text="${usuarioSolicitud?.nombres + ' ' + usuarioSolicitud?.apellidos}"></span>
</div>
<div class="pdf-field">
    <strong>DUI:</strong> <span class="underline" th:text="${usuarioSolicitud?.dui}"></span>
    <strong>NIT:</strong> <span class="underline" th:text="${usuarioSolicitud?.nit}"></span>
</div>
<div class="pdf-field">
    <strong>Fecha de nacimiento:</strong> <span class="underline" th:text="${usuarioSolicitud?.fechaNacimiento}"></span>
</div>
<div class="pdf-field">
    <strong>Estado civil:</strong> <span class="underline" th:text="${#strings.capitalize(usuarioSolicitud?.estadoCivil)}"></span>
</div>
<div class="pdf-field">
    <strong>Dirección completa:</strong> <span class="underline" th:text="${usuarioSolicitud?.direccion}"></span>
</div>
<div class="pdf-field">
    <strong>Tiempo de residencia en la dirección actual:</strong> <span class="underline" th:text="${usuario?.tiempoResidencia}"></span>
</div>
<div class="pdf-field">
    <strong>Teléfono:</strong> <span class="underline" th:text="${usuarioSolicitud?.telefono}"></span>
    <strong>Correo electrónico:</strong> <span class="underline" th:text="${usuarioSolicitud?.email}"></span>
</div>
<div class="pdf-field">
    <strong>Ocupación / Negocio:</strong> <span class="underline" th:text="${usuarioSolicitud?.puesto}"></span>
</div>

<!-- Nuevos campos añadidos -->
<div class="pdf-field">
    <strong>Gastos mensuales (vivienda, alimentación, transporte, etc.):</strong> US$ <span class="underline" th:text="${credito?.gastosMensuales}"></span>
</div>

<div class="pdf-field">
    <strong>¿Tiene propiedad?:</strong>
    <span class="underline" th:text="${credito?.tienePropiedad != null ? (credito?.tienePropiedad ? 'Sí' : 'No') : 'No'}"></span>
</div>

<div class="pdf-field" >
    <strong>Dirección de la propiedad:</strong> <span class="underline" th:text="${credito?.direccionPropiedad}"></span>
</div>
<div class="pdf-field">
    <strong>¿Tiene vehículo?:</strong>
    <span class="underline" th:text="${credito?.tieneVehiculo != null and credito?.tieneVehiculo ? 'Sí' : 'No'}"></span>
</div>

<div class="pdf-section">REFERENCIAS PERSONALES</div>

<div class="pdf-field">
    <strong>Nombre:</strong> <span class="underline" th:text="${usuarioSolicitud?.referencia1}"></span>
    <strong>Teléfono:</strong> <span class="underline" th:text="${usuarioSolicitud?.telefonoReferencia1}"></span>
    <strong>Parentesco:</strong> <span class="underline" th:text="${usuarioSolicitud?.parentesco1}"></span>
</div>
<div class="pdf-field">
    <strong>Nombre:</strong> <span class="underline" th:text="${usuarioSolicitud?.referencia2}"></span>
    <strong>Teléfono:</strong> <span class="underline" th:text="${usuarioSolicitud?.telefonoReferencia2}"></span>
    <strong>Parentesco:</strong> <span class="underline" th:text="${usuarioSolicitud?.parentesco2}"></span>
</div>

<div class="page-breal"></div>

<!-- Información Adicional del Usuario -->
<div class="pdf-section">2. INFORMACIÓN LABORAL / ECONÓMICA</div>

<!-- Información de los Empleados -->
<div th:if="${usuarioSolicitud?.puesto == 'Empleado'}">
    <div class="pdf-subsection"><strong>INFORMACIÓN DE LAS PERSONAS EMPLEADAS</strong></div>
    <div style="grid-column: span 2; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
        <div class="pdf-field">
            <strong>Empresa de Trabajo:</strong> <span class="underline" th:text="${usuarioSolicitud?.empresaTrabajo}"></span>
        </div>
        <div class="pdf-field">
            <strong>Dirección de la empresa:</strong> <span class="underline" th:text="${usuarioSolicitud?.direccionEmpresa}"></span>
        </div>
        <div class="pdf-field">
            <strong>Número de contacto de la empresa:</strong> <span class="underline" th:text="${usuarioSolicitud?.telefonoEmpresa}"></span>
        </div>
        <div class="pdf-field">
            <strong>Antigüedad laboral:</strong> <span class="underline" th:text="${usuarioSolicitud?.antiguedadLaboral}"></span>
        </div>
        <div class="pdf-field">
            <strong>Ingreso mensual aproximado:</strong> US$ <span class="underline" th:text="${usuarioSolicitud?.ingresoMensualEmpleado}"></span>
        </div>
    </div>
</div>

<!-- Información de los Emprendedores -->
<div th:if="${usuarioSolicitud?.puesto == 'Emprendedor'}">
    <div class="pdf-subsection"><strong>INFORMACIÓN DE LAS PERSONAS EMPRENDEDORAS</strong></div>
    <div style="grid-column: span 2; display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
        <div class="pdf-field">
            <strong>A qué se dedica:</strong> <span class="underline" th:text="${usuarioSolicitud?.actividadEmprendedor}"></span>
        </div>
        <div class="pdf-field">
            <strong>Ingreso mensual aproximado:</strong> US$ <span class="underline" th:text="${usuarioSolicitud?.ingresoMensualEmprendedor}"></span>
        </div>
        <div class="pdf-field">
            <strong>Otros ingresos (detalle y monto):</strong> <span class="underline" th:text="${usuarioSolicitud?.otrosIngresos}"></span>
        </div>
        <div class="pdf-field">
            <strong>Número de contacto del negocio:</strong> <span class="underline" th:text="${usuarioSolicitud?.telefonoNegocio}"></span>
        </div>
        <div class="pdf-field">
            <strong>Dirección del negocio:</strong> <span class="underline" th:text="${usuarioSolicitud?.direccionNegocio}"></span>
        </div>
        <div class="pdf-field">
            <strong>Antigüedad del negocio:</strong> <span class="underline" th:text="${usuarioSolicitud?.antiguedadNegocio}"></span>
        </div>
    </div>
</div>

<div class="pdf-field">
    <strong>¿Cómo conoció Multipréstamos ATLAS?:</strong> <span class="underline" th:text="${usuario?.fuenteConocimiento}"></span>
</div>
<div class="pdf-field">
    <strong>¿Conoce a alguien con crédito en Multipréstamos ATLAS?:</strong>
    <span class="underline" th:text="${usuario?.conoceAlguien != null && usuario?.conoceAlguien ? 'Sí' : 'No'}"></span>
</div>

<div class="pdf-field" th:if="${usuario?.conoceAlguien}">
    <strong>Nombre de la persona conocida:</strong> <span class="underline" th:text="${usuario?.nombrePersonaConocida}"></span>
    <strong>Teléfono:</strong> <span class="underline" th:text="${usuario?.telefonoPersonaConocida}"></span>
</div>
<div class="pdf-field">
    <strong>Perfil de red social:</strong> <span class="underline" th:text="${usuario?.perfilRedSocial}"></span>
</div>

<br/>

<!-- 3. Detalles del Crédito -->
<div class="pdf-section">3. DETALLES DEL CRÉDITO</div>

<div class="pdf-field">
    <strong>Monto solicitado:</strong> US$ <span class="underline" th:text="${credito?.monto}"></span>
</div>
<div class="pdf-field">
    <strong>Destino del crédito:</strong> <span class="underline" th:text="${credito?.destino}"></span>
</div>
<div class="pdf-field">
    <strong>Forma de pago: </strong> <span class="underline" th:text="${credito?.formaDePago}"></span>
</div>

<div class="pdf-field">
    <strong>Frecuencia de pago:</strong> <span class="underline" th:text="${credito?.plazoFrecuencia}"></span>
</div>
<div class="pdf-field">
    <strong>Cuota establecida:</strong> US$ <span class="underline" th:text="${credito?.cuotaMensual}"></span>
</div>

<div class="pdf-field">
    <strong>Cantidad de cuotas establecidas:</strong>  <span class="underline" th:text="${credito?.cuotaCantidad}"></span>
</div>

<div class="pdf-field">
    <strong>Primera fecha de pago:</strong>  <span class="underline" th:text="${credito?.proximoPago}"></span>
</div>

<br/>

<div class="pdf-section">4. HISTORIAL CREDITICIO</div>

<div class="pdf-field">
    <p><strong>1. ¿Ha solicitado créditos en los últimos 2 años?</strong></p>
</div>
<div class="pdf-field">
    <p class="underline" th:text="${usuarioSolicitud?.solicitado != null ? (usuarioSolicitud.solicitado ? 'Sí' : 'No') : 'No'}"></p>
</div>

<div class="pdf-field">
    <p>Si su respuesta es Sí, indique:</p>
</div>
<div class="pdf-field">
    <p>Entidad financiera: <span class="underline" th:text="${usuarioSolicitud?.solicitadoEntidad}"></span></p>
</div>
<div class="pdf-field">
    <p>Monto: <span class="underline" th:text="${usuarioSolicitud?.solicitadoMonto}"></span></p>
</div>
<div class="pdf-field" th:if="${usuarioSolicitud?.solicitadoEstado != null}">
    <p>Estado actual:
        <span class="underline" th:text="${usuarioSolicitud?.solicitadoEstado}">En curso</span>
    </p>
</div>

<div class="pdf-field">
    <p><strong>2. ¿Ha tenido atrasos en pagos de créditos, tarjetas u obligaciones financieras en los últimos 24 meses?</strong></p>
</div>
<div class="pdf-field" th:if="${usuarioSolicitud?.atrasos != null}">
        <span class="underline" th:if="${usuarioSolicitud?.atrasos == 'nunca'}">Nunca</span>
        <span class="underline" th:if="${usuarioSolicitud?.atrasos == 'uno_a_dos'}">1 a 2 veces</span>
        <span class="underline" th:if="${usuarioSolicitud?.atrasos == 'dos_o_mas'}">Más de 2 veces</span>
</div>

<div class="pdf-field">
    <p><strong>3. ¿Alguna entidad financiera lo ha reportado como moroso en los últimos 2 años?</strong></p>
</div>
<div class="pdf-field">
    <p class="underline" th:text="${usuarioSolicitud?.reportado != null ? (usuarioSolicitud.reportado ? 'Sí' : 'No') : 'No'}"></p>
</div>

<div class="pdf-field">
    <p><strong>4. ¿Ha sido objeto de cobros judiciales o procesos legales por deudas en este período?</strong></p>
</div>
<div class="pdf-field">
    <p class="underline" th:text="${usuarioSolicitud?.deudas != null ? (usuarioSolicitud.deudas ? 'Sí' : 'No') : 'No'}"></p>
</div>

<div class="page-break"></div>

<div class="pdf-section">5. Estabilidad Económica</div>

<div class="pdf-field">
    <p><strong>5. ¿Actualmente cuenta con un empleo fijo o negocio propio?</strong></p>
</div>

<div class="pdf-field">
    <p class="underline" th:if="${usuarioSolicitud?.empleado == 'empleo_fijo'}">Empleo fijo</p>
    <p class="underline" th:if="${usuarioSolicitud?.empleado == 'negocio_propio'}">Negocio Propio</p>
    <p class="underline" th:if="${usuarioSolicitud?.empleado == 'ninguno'}">Ninguno</p>

</div>

<div class="pdf-field">
    <p><strong>6. ¿Tiene otras deudas activas actualmente?</strong></p>
</div>

<div class="pdf-field">
    <p class="underline" th:text="${usuarioSolicitud?.otrasDeudas != null ? (usuarioSolicitud.otrasDeudas ? 'Sí' : 'No') : 'No'}"></p>
</div>

<div class="pdf-field">
    <p>Si su respuesta es Sí, indique:</p>
</div>

<div>
    <div class="pdf-field">
        <p>Entidad: <span class="underline" th:text="${usuarioSolicitud?.otrasDeudasEntidad}"></span></p>
    </div>
    <div class="pdf-field">
        <p>Monto mensual: <span class="underline" th:text="${usuarioSolicitud?.otrasDeudasMonto}"></span></p>
    </div>
</div>

<div class="pdf-section">6. Documentos Personales</div>

<div class="photo-container">
  <div class="photo-item">
    <div>Parte frontal del DUI cliente</div>
    <img th:if="${usuario?.duiDelante != null}" th:src="@{${usuario?.duiDelante}}" alt="DUI Delante" />
    <div th:if="${usuario?.duiDelante == null}">No se proporcionó</div>
  </div>
  <div class="photo-item">
    <div>Parte trasera del DUI cliente</div>
    <img th:if="${usuario?.duiAtras != null}" th:src="@{${usuario?.duiAtras}}" alt="DUI Atrás" />
    <div th:if="${usuario?.duiAtras == null}">No se proporcionó</div>
  </div>
</div>

<div class="photo-container">
  <div class="photo-item">
    <div>Parte frontal del DUI Codeudor</div>
    <img th:if="${usuarioSolicitud?.duiDelanteCodeudor != null}" th:src="@{${usuarioSolicitud?.duiDelanteCodeudor}}" alt="DUI Delante Codeudor" />
    <div th:if="${usuarioSolicitud?.duiDelanteCodeudor == null}">No se proporcionó</div>
  </div>
  <div class="photo-item">
    <div>Parte trasera del DUI Codeudor</div>
    <img th:if="${usuarioSolicitud?.duiAtrasCodeudor != null}" th:src="@{${usuarioSolicitud?.duiAtrasCodeudor}}" alt="DUI Atrás Codeudor" />
    <div th:if="${usuarioSolicitud?.duiAtrasCodeudor == null}">No se proporcionó</div>
  </div>
</div>

<div class="photo-container">
  <div class="photo-item">
    <div>Foto de recibo de agua o luz</div>
    <img th:if="${usuarioSolicitud?.fotoRecibo != null}" th:src="@{${usuarioSolicitud?.fotoRecibo}}" alt="Foto Recibo" />
    <div th:if="${usuarioSolicitud?.fotoRecibo == null}">No se proporcionó</div>
  </div>
</div>

</body>
</html>